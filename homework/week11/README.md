
程式碼由三個主要部分組成，它們共同完成了信號處理和驗證的流程：dft(x) 函數 (#1): 實現了離散傅立葉變換 (DFT)。idft(X) 函數 (#2): 實現了離散傅立葉逆變換 (IDFT)。verify_dft_inverse(f) 函數 (#3): 接受一個測試信號 $f$，執行 $f \to F \to f'$ 的過程，並計算原始信號 $f$ 與恢復信號 $f'$ 之間的誤差，以驗證可逆性。測試信號生成和執行: 生成一個由正弦波和餘弦波組成的測試信號 f_test，然後調用 verify_dft_inverse 進行驗證。2. DFT/IDFT 數學原理與程式碼對應數學公式對於長度為 $N$ 的離散信號 $x[n]$，其 DFT $X[k]$ 和 IDFT $x[n]$ 的數學定義如下：離散傅立葉變換 (DFT):$$X[k] = \sum_{n=0}^{N-1} x[n] \cdot e^{-i 2 \pi k n / N}$$其中，$k = 0, 1, \dots, N-1$。離散傅立葉逆變換 (IDFT):$$x[n] = \frac{1}{N} \sum_{k=0}^{N-1} X[k] \cdot e^{+i 2 \pi k n / N}$$其中，$n = 0, 1, \dots, N-1$。程式碼實現（矩陣形式）程式碼使用了 矩陣運算 (Matrix Operation) 來高效計算 DFT 和 IDFT，避免了使用多重迴圈，這在 NumPy 中是常見的做法。定義變換核心矩陣 $M$ (Twiddle Factor Matrix):在 dft(x) 中，核心矩陣 $M$ 的元素 $M_{k,n}$ 根據 DFT 公式定義為：$$M_{k,n} = e^{-i 2 \pi k n / N}$$對應程式碼：M = np.exp(-2j * np.pi * k * n / N)在 idft(X) 中，核心矩陣 $M$ 的元素 $M'_{n,k}$ 根據 IDFT 公式定義為：$$M'_{n,k} = e^{+i 2 \pi k n / N}$$對應程式碼：M = np.exp(2j * np.pi * k * n / N)矩陣乘法運算:DFT: 頻域信號 $X$ 是 $M$ 矩陣與時域信號向量 $x$ 的點積：$$X = M \cdot x$$對應程式碼：X = M.dot(x)IDFT: 恢復的時域信號 $x$ 是 $M'$ 矩陣與頻域信號向量 $X$ 的點積，再除以 $N$:$$x = \frac{1}{N} \cdot M' \cdot X$$對應程式碼：x = M.dot(X) 之後 x = x / N (這是 IDFT 區別於 DFT 的關鍵步驟之一)。3. 測試信號與驗證過程 (#3)測試信號生成PythonN_samples = 64
t = np.linspace(0, 1, N_samples, endpoint=False)
f_test = 2 * np.sin(2 * np.pi * 5 * t) + 1.5 * np.cos(2 * np.pi * 12 * t)
f_test 是一個由兩個頻率分量疊加而成的離散信號：一個頻率為 $5$ Hz 的正弦波，振幅為 $2$。一個頻率為 $12$ Hz 的餘弦波，振幅為 $1.5$。信號長度 $N$ 為 $64$ 個採樣點。驗證步驟 (verify_dft_inverse(f_test))正變換 (DFT): F = dft(f)將時域信號 f_test 變換到頻域得到頻譜 F。逆變換 (IDFT): f_recovered = idft(F)將頻譜 F 逆變換回時域得到恢復信號 f_recovered。取實部: f_recovered_real = f_recovered.realDFT/IDFT 涉及複數運算。由於原始時域信號 $f$ 是實數信號，理論上恢復信號 $f'$ 的虛部應該為零或接近於零（由浮點數運算誤差引起），所以我們只取其實部進行比較。計算誤差: error = np.linalg.norm(f - f_recovered_real)使用 L2 範數 (即歐幾里得距離或均方根誤差的平方和的平方根) 計算原始信號 $f$ 和恢復信號實部 $f_{recovered\_real}$ 之間的差異。$$\text{Error} = ||f - f'_{real}||_2$$判斷結論:如果誤差 error 非常小（小於 $10^{-9}$），則確認 DFT 和 IDFT 互為逆運算，可逆性驗證成功。4. 輸出結果分析 (預期)由於 DFT 和 IDFT 在數學上是嚴格可逆的，且程式碼實現正確，預期的輸出結果將是：原始信號 $f$ 和 逆變換結果的實部 $f'$ 的數值將非常接近。L2 誤差 是一個極小的數值 (例如 $10^{-14}$ 或更小)，這是浮點數運算誤差的典型水平。結論將是：結論: 誤差極小，驗證成功，DFT 和 IDFT 互為逆運算。
